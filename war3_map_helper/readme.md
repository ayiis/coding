# åŠŸèƒ½

æœ¬ç¨‹åºç”¨äºè‡ªåŠ¨æ±‰åŒ– é­”å…½äº‰éœ¸çš„åœ°å›¾æ–‡ä»¶ï¼Œæ”¯æŒ .w3x å¯¹æˆ˜æ–‡ä»¶å’Œ .w3n æˆ˜å½¹æ–‡ä»¶

ç›®å‰ä»åœ¨æ´»è·ƒæ›´æ–° é­”å…½äº‰éœ¸åœ°å›¾çš„ç½‘ç«™ä¸º [Epic War](https://www.epicwar.com/)ï¼Œå¤§éƒ¨åˆ†åœ°å›¾éƒ½æ˜¯ ä¿„è¯­å’Œè‹±è¯­

æœ¬ç¨‹åºç†è®ºä¸Šæ”¯æŒä»»æ„è¯­è¨€çš„æ±‰åŒ–ï¼ˆç¿»è¯‘æ¥å£é»˜è®¤é€šè¿‡ puppeteer è°ƒç”¨ è°·æ­Œç¿»è¯‘ ç½‘é¡µç‰ˆï¼‰

## ä¾èµ–

[w3x2lni](https://github.com/sumneko/w3x2lni), [YDWE](https://github.com/actboy168/YDWE), ç«é¾™è§£å‹

## ç¿»è¯‘çš„ç›®æ ‡æ–‡ä»¶åˆ—è¡¨

```

j:
âœ… war3map.j:

wts:
âœ… war3map.wts

txt:
âœ… war3mapskin.txt

ini:
âœ… ability.ini
âœ… buff.ini
âœ… destructable.ini
âœ… doodad.ini
âœ… imp.ini
âœ… item.ini
âœ… misc.ini
âœ… unit.ini
âœ… upgrade.ini
âœ… w3i.ini

```

# è¦æ³¨æ„çš„é—®é¢˜

âš ï¸ (listfile)

    è‡ªå¸¦çš„ (listfile) å’Œç«é¾™åˆ†æç»“æœ ä¸å®Œå…¨é è°±ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢æ–¹æ³•ä¼˜åŒ–ï¼š
        - å…ˆè½¬å‡ºæ¥ lni
        - é€šè¿‡æå–æ‰€æœ‰å­—ç¬¦ä¸²è·å¾—æ‰€æœ‰èµ„æºè·¯å¾„
        - å¡«å…¥ (listfile)
        - æ›¿æ¢åŸæ¥çš„ (listfile)
        - é‡æ–°è½¬å‡ºæ¥

âš ï¸ wts æ–‡ä»¶

    1. æ±‰åŒ–é—®é¢˜

        æœ‰äº›ä¸è§„èŒƒçš„åœ°å›¾çš„wtsæ–‡ä»¶ï¼ŒåŒ…å«äº† ä½œä¸ºç³»ç»Ÿå‘½ä»¤IDçš„ å•ä¸ªè‹±æ–‡å•è¯ï¼Œæ±‰åŒ–ä¼šä¸¢å¤±æŠ€èƒ½ï¼Œä½†ç›®å‰æ— æ³•é€šè¿‡ç¨‹åºåˆ¤æ–­ï¼Œéœ€è¦è®¾ç½®è·³è¿‡

            - å¦‚æœåç§°å­—ç¬¦ä¸²ä¹Ÿå†™åˆ°äº† wts é‡Œï¼Œé‚£ä¹ˆé‡åˆ° æ²¡æœ‰ç©ºæ ¼çš„ ä¸æ±‰åŒ–

            - åœ¨ worker.py å¼€å¯/å…³é—­ wts æ±‰åŒ–è·³è¿‡ç©ºæ ¼

            - æœç´¢ #!!!! å¹¶æ³¨é‡Š

    2. è§£å‹é‡æ–°æ‰“åŒ…é—®é¢˜

        w3x2lni è§£å‹å‡ºæ¥æ˜¯é‡æ–°æ„å»ºäº† wts çš„ï¼Œæ‰€ä»¥é‡æ–°æ‰“åŒ…å¿…é¡»ä¹Ÿç”¨ w3x2lni

            å·²ç¡®è®¤: jï¼Œwts éƒ½å­˜åœ¨é‡æ„å˜é‡åçš„ç°è±¡

        å¦‚æœåªæœ‰ä»»åŠ¡(j)ç”¨åˆ° wts çš„æ—¶å€™ï¼Œæ‰“åŒ…çš„æ—¶å€™æ— æ³•è‡ªåŠ¨å¼•å…¥ wts æ–‡ä»¶

        å˜é‡åéœ€è¦è½¬æ¢æˆå¤§å†™ï¼Œå¦‚ï¼š trigstr_000 ==> TRIGSTR_000

    3. å»ºè®®è¿˜æ˜¯ç›´æ¥ç”¨ç«é¾™è§£å‹

âš ï¸ wts æ–‡ä»¶

    ç›®å‰ä»…å…·å¤‡ åŸºäºæ­£åˆ™åŒ¹é…çš„è¯æ³•åˆ†æ çš„èƒ½åŠ›
        å¯¹è¿™æ ·çš„å­—ç¬¦ä¸²æ— èƒ½ä¸ºåŠ›
            set a = "test string"
            call diaplayMsg(a)

## å…¶å®ƒäº‹é¡¹


## Jass.sublime-package

Sublime Textçš„æŸ“è‰²æ’ä»¶

é‡Œé¢çš„æ–‡ä»¶è¢«æ‰“åŒ…æˆzipï¼Œç„¶åæ”¾ç½®åœ¨packagesç›®å½•å³å¯è¢«sublimeè‡ªåŠ¨åŠ è½½

## ç¿»è¯‘æ¥å£

âœ… ç™¾åº¦ç¿»è¯‘

    - æ¯æœˆå…è´¹ 200w å­—ç¬¦ï¼Œç›®å‰1å¼ åœ°å›¾ä½¿ç”¨äº† 15w

    - ç¿»è¯‘è´¨é‡å¾ˆå·®

âœ… è°·æ­Œç¿»è¯‘

    - ç½‘é¡µç«¯ï¼Œæ”¯æŒæ–‡æ¡£ç¿»è¯‘

    - è´¨é‡è¾ƒå¥½

    - ä½¿ç”¨ pyppeteer è‡ªåŠ¨ç¿»è¯‘

        ğŸš« pyppeteer å·²åœæ­¢ç»´æŠ¤ éœ€è¦å‡çº§ [pyppeteer2](https://github.com/pyppeteer/pyppeteer)

        ğŸš« pyppeteer2 çš„ issues é¦–é¡µå°±æœ‰10ä¸ª BUGï¼Œæš‚æ—¶æç½®å‡çº§


    - è¯åº“é»˜è®¤ç”¨å¤§ä¼—å¸¸ç”¨é«˜é¢‘è¯åº“ï¼Œæ— æ³•æŒ‡å®šä¸ºæ¸¸æˆè¯åº“ï¼Œæ•ˆæœæœ‰å¾…æé«˜

    - ç¿»è¯‘ç»“æœå‰åä¸ä¸€è‡´ï¼Œå˜å½¢çš„å•è¯ï¼ˆç‰¹åˆ«æ˜¯ä¿„è¯­ï¼‰ç»å¸¸ä¸èƒ½ä¿æŒå‰åè¯‘æ„ä¸€è‡´

# ä½¿ç”¨

## æ™®é€šå¯¹æˆ˜åœ°å›¾ w3x æ±‰åŒ–æ­¥éª¤

1. ç«é¾™é‡å†™ (listfile)

2. w3x2lni è§£å‹æˆ lni

3. æ‰§è¡Œæœ¬è„šæœ¬æ±‰åŒ– map ç›®å½•

## æˆ˜å½¹åœ°å›¾ w3n æ±‰åŒ–æ­¥éª¤

1. ç«é¾™é‡å†™ (listfile)

2. w3x2lni è§£å‹æˆ lni

3. åœ¨mapæ–‡ä»¶å¤¹é‡Œé¢æŠŠæ‰€æœ‰ç« èŠ‚çš„ w3x æ±‰åŒ–

    - åˆ é™¤æœ€å¤–å±‚ w3n çš„ war3mapskin.txt æ–‡ä»¶çš„è‡ªå®šä¹‰å­—ä½“
    - åˆ é™¤æ‰€æœ‰ w3x çš„ war3mapskin.txt æ–‡ä»¶çš„è‡ªå®šä¹‰å­—ä½“

4. åœ¨ç«é¾™é‡Œé¢ç›´æ¥æ›¿æ¢ w3x

5. æœ€å¤–å±‚çš„ w3n éœ€è¦å…ˆé€šè¿‡ w3x2lni æ‰“åŒ…æˆ w3x å†æ›¿æ¢èµ„æº

    å¯¹åº”å…³ç³»ï¼š

        - war3mapskin.txt -> war3mapskin.txt
        - war3campaign.wts -> war3campaign.wts

## è„šæœ¬æ‰§è¡Œä¾‹å­

```bash

# æå–éœ€è¦ç¿»è¯‘çš„å­—ç¬¦ä¸²
python map_analyzer.py

mkdir /tmp/up
python translation_tool.py

# è·å–ç¿»è¯‘ç»“æœ
cd lib
python t_pyppeteer.py
cp /tmp/up/base.en-zh.txt /mine/github/coding/war3_map_helper/data/

# [  CHECK AND RENAME  ]

cd ..

rm "HolyWar20200404v3" -rf && cp -r "HolyWar20200404v3.bak" "HolyWar20200404v3"

# é‡æ–°æ‰§è¡Œï¼Œæ›¿æ¢éœ€è¦ç¿»è¯‘çš„å­—ç¬¦ä¸²
python map_analyzer.py

```
